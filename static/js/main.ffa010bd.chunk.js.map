{"version":3,"sources":["components/User.tsx","components/Todo.tsx","components/TodoList.tsx","components/api.ts","App.tsx","index.tsx"],"names":["User","name","Todo","todo","deleteItem","completed","title","user","onClick","id","TodoList","props","preparedTodos","className","map","item","key","loadTodosWithUsers","a","fetch","then","response","json","users","todos","data","find","userId","App","useState","isLoaded","setLoaded","isLoading","setIsLoading","setTodos","sortedTodos","setSortedTodos","handleButtonClick","type","sort","b","localeCompare","Number","newTodos","filter","disabled","ReactDOM","render","document","getElementById"],"mappings":"0RAGaA,G,MAA4B,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAH,OACvC,4BAAKA,KCAMC,EAA2E,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAMC,EAAT,EAASA,WAAT,OACtF,4BACE,4BAAKD,EAAKE,UAAY,OAAS,eAC/B,4BAAKF,EAAKG,OACV,kBAAC,EAAD,CAAML,KAAME,EAAKI,KAAOJ,EAAKI,KAAKN,KAAO,sBACzC,4BAAI,4BAAQO,QAAS,kBAAMJ,EAAWD,EAAKM,MAAvC,aCwBOC,EA7BmB,SAACC,GAAW,IACpCC,EAAkBD,EAAlBC,cACAR,EAAeO,EAAfP,WAER,OACE,oCACE,2BAAOS,UAAU,SACf,iCAAS,8CACT,+BACE,4BACE,sCACA,qCACA,sCAGJ,+BACGD,EAAcE,KAAI,SAAAC,GAAI,OACrB,kBAAC,EAAD,CACEX,WAAYA,EACZD,KAAMY,EACNC,IAAKD,EAAKN,Y,OCZXQ,EAAkB,uCAAG,8BAAAC,EAAA,sEANhCC,MAJgB,2CAICC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAMX,cAC1BC,EAD0B,gBAHhCJ,MANgB,2CAMCC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAGX,cAE1BE,EAF0B,yBAIzBA,EAAMC,KAAKX,KAAI,SAACX,GAAD,mBAAC,eAClBA,GADiB,IAEpBI,KAAMgB,EAAME,KAAKC,MAAK,SAACnB,GAAD,OAAgBA,EAAKE,KAAON,EAAKwB,gBANzB,2CAAH,qDCqEhBC,EA3EO,WAAO,IAAD,EACIC,oBAAS,GADb,mBACnBC,EADmB,KACTC,EADS,OAEQF,oBAAS,GAFjB,mBAEnBG,EAFmB,KAERC,EAFQ,OAGAJ,mBAAyB,IAHzB,mBAGnBL,EAHmB,KAGZU,EAHY,OAIYL,mBAAyB,IAJrC,mBAInBM,EAJmB,KAINC,EAJM,KAMpBC,EAAiB,uCAAG,sBAAAnB,EAAA,6DACxBe,GAAa,GADW,SAGlBhB,IAAqBG,MAAK,SAAAK,GAAI,OAAIS,EAAST,MAHzB,uBAIlBR,IAAqBG,MAAK,SAAAK,GAAI,OAAIW,EAAeX,MAJ/B,OAMxBM,GAAU,GANc,2CAAH,qDAwCvB,OACE,yBAAKlB,UAAU,OACb,oDACEiB,EAWA,oCACE,yBAAKjB,UAAU,YACb,4BAAQyB,KAAK,SAASzB,UAAU,mBAAmBL,QA/CzC,WAClB,IAAM2B,EAAc,YAAIX,GAAOe,MAAK,SAACrB,EAAGsB,GAAJ,OAAUtB,EAAEZ,MAAMmC,cAAcD,EAAElC,UAEtE8B,EAAeD,KA4CP,iBACA,4BAAQtB,UAAU,mBAAmBL,QA1CvB,WACtB,IAAM2B,EAAc,YAAIX,GAAOe,MAAK,SAACrB,EAASsB,GAC5C,OAAOE,OAAOxB,EAAEb,WAAaqC,OAAOF,EAAEnC,cAGxC+B,EAAeD,KAqCP,qBACA,4BAAQtB,UAAU,mBAAmBL,QAnC5B,WACjB,IAAM2B,EAAc,YAAIX,GAAOe,MAAK,SAACrB,EAAGsB,GACtC,OAAItB,EAAEX,MAAQiC,EAAEjC,KACPW,EAAEX,KAAKN,KAAKwC,cAAcD,EAAEjC,KAAKN,MAGnC,KAGTmC,EAAeD,KA0BP,iBAEF,yBAAKtB,UAAU,WACb,kBAAC,EAAD,CAAUT,WA1BD,SAACK,GAClB,IAAMkC,EAAW,YAAIR,GAAaS,QAAO,SAAA7B,GAAI,OAAIA,EAAKN,KAAOA,KAC7D2B,EAAeO,IAwB2B/B,cAAeuB,MAjBrD,oCACE,4BACEG,KAAK,SACL9B,QAAS6B,EACTQ,SAAUb,GAETA,EAAY,aAAe,WC1DxCc,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.ffa010bd.chunk.js","sourcesContent":["import React from 'react';\nimport { UserProps } from './types';\n\nexport const User: React.FC<UserProps> = ({ name }) => (\n  <td>{name}</td>\n);\n","import React from 'react';\nimport { User } from './User';\nimport { PreparedTodo } from './types';\n\nexport const Todo: React.FC< {todo: PreparedTodo; deleteItem: (id: number) => void} > = ({ todo, deleteItem }) => (\n  <tr>\n    <td>{todo.completed ? 'Done' : 'In progress'}</td>\n    <td>{todo.title}</td>\n    <User name={todo.user ? todo.user.name : 'user is not found'} />\n    <td><button onClick={() => deleteItem(todo.id)}>delete</button></td>\n  </tr>\n);\n","import React from 'react';\nimport { Todo } from './Todo';\nimport { Props } from './types';\n\nconst TodoList: React.FC<Props> = (props) => {\n  const { preparedTodos } = props;\n  const { deleteItem } = props;\n\n  return (\n    <>\n      <table className=\"table\">\n        <caption><strong>ToDo List</strong></caption>\n        <thead>\n          <tr>\n            <th>Status</th>\n            <th>Title</th>\n            <th>User</th>\n          </tr>\n        </thead>\n        <tbody>\n          {preparedTodos.map(item => (\n            <Todo\n              deleteItem={deleteItem}\n              todo={item}\n              key={item.id}\n            />\n          ))}\n        </tbody>\n      </table>\n    </>\n  );\n};\n\nexport default TodoList;\n","import { User, Todo, PreparedTodo } from './types';\n\nconst API_USERS = 'https://mate.academy/students-api/users';\nconst API_TODOS = 'https://mate.academy/students-api/todos';\n\nexport const loadUsers = (): Promise<{data: User[]}> => (\n  fetch(API_USERS).then(response => response.json()));\n\nexport const loadTodos = (): Promise<{data: Todo[]}> => (\n  fetch(API_TODOS).then(response => response.json())\n);\n\nexport const loadTodosWithUsers = async (): Promise<PreparedTodo[]> => {\n  const users = await loadUsers();\n  const todos = await loadTodos();\n\n  return todos.data.map((todo: Todo) => ({\n    ...todo,\n    user: users.data.find((user: User) => user.id === todo.userId),\n  }));\n};\n","import React, {useState} from 'react';\nimport './App.css';\nimport TodoList from './components/TodoList';\nimport { PreparedTodo, Todo } from './components/types';\nimport { loadTodosWithUsers } from './components/api';\n\nconst App: React.FC = () => {\n  const [isLoaded, setLoaded] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [todos, setTodos] = useState<PreparedTodo[]>([]);\n  const [sortedTodos, setSortedTodos] = useState<PreparedTodo[]>([]);\n\n  const handleButtonClick = async () => {\n    setIsLoading(true);\n\n    await loadTodosWithUsers().then(data => setTodos(data));\n    await loadTodosWithUsers().then(data => setSortedTodos(data));\n\n    setLoaded(true);\n  };\n\n  const sortByTitle = () => {\n    const sortedTodos = [...todos].sort((a, b) => a.title.localeCompare(b.title));\n\n    setSortedTodos(sortedTodos);\n  };\n\n  const sortByCompleted = () => {\n    const sortedTodos = [...todos].sort((a: Todo, b: Todo) => {\n      return Number(a.completed) - Number(b.completed);\n    });\n\n    setSortedTodos(sortedTodos);\n  };\n\n  const sortByName = () => {\n    const sortedTodos = [...todos].sort((a, b) => {\n      if (a.user && b.user) {\n        return a.user.name.localeCompare(b.user.name);\n      }\n\n      return 0;\n    });\n\n    setSortedTodos(sortedTodos);\n  };\n\n  const deleteItem = (id: number) => {\n    const newTodos = [...sortedTodos].filter(item => item.id !== id);\n    setSortedTodos(newTodos);\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Static list of todos</h1>\n      {!isLoaded ? (\n        <>\n          <button\n            type=\"button\"\n            onClick={handleButtonClick}\n            disabled={isLoading}\n          >\n            {isLoading ? 'loading...' : 'Load'}\n          </button>\n        </>\n      ) : (\n        <>\n          <div className=\"controls\">\n            <button type=\"button\" className=\"controls__button\" onClick={sortByTitle}>Sort by Title</button>\n            <button className=\"controls__button\" onClick={sortByCompleted}>Sort by Completed</button>\n            <button className=\"controls__button\" onClick={sortByName}>Sort by Name</button>\n          </div>\n          <div className=\"content\">\n            <TodoList deleteItem={deleteItem} preparedTodos={sortedTodos} />\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}